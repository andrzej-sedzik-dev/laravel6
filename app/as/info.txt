1)

http://localhost:8000/posts/123
null

1a)
http://localhost:8000/posts/my-first-posts#
My Blog Post!
my first post

2)
http://localhost:8000/posts/my-second-posts#
Trying to get property 'body' of non-object (View: C:\dev\best\back\laravel\laracasts\laravel6\resources\views\post.blade.php)

a)
- solved
        if (!$post){
            abort(404);
        }
b)
//$post = DB::table('posts')->where('slug', $slug)->first();
$post = Post::where('slug', $slug)->first();

        if (!$post){
            abort(404);
        }

return view('post', [
            'post' => $post;
        ]);
    }

c)
    public function show($slug)
    {
        return view('post', [
            'post' => $post = Post::where('slug', $slug)->firstOrFail()
        ]);
    }


3) Migration 101
C:\dev\best\back\laravel\laracasts\laravel6>php artisan make:migration create_posts_table
Created Migration: 2020_04_18_092440_create_posts_table


a)
- nic nie dzieje się w bazie danych a jedynie zostaje utworzony klasa CreatePostsTable.
php artisan make:migration create_posts_table


    use Illuminate\Database\Migrations\Migration;
    use Illuminate\Database\Schema\Blueprint;
    use Illuminate\Support\Facades\Schema;

    class CreatePostsTable extends Migration
    {
        /**
         * Run the migrations.
         *
         * @return void
         */
        public function up()
        {
            Schema::create('posts', function (Blueprint $table) {
                $table->id();
                $table->timestamps();
            });
        }

        /**
         * Reverse the migrations.
         *
         * @return void
         */
        public function down()
        {
            Schema::dropIfExists('posts');
        }
    }


b)
php artisan migrate
- migracje zostały użyte do utworzenia tabel w bazie danych


c)
C:\dev\best\back\laravel\laracasts\laravel6>php artisan make:migration add_title_to_posts_table
Created Migration: 2020_04_18_094758_add_title_to_posts_table
- tworzymy kolejną migracje która doda nam tytuł do tabeli post.


d)
php artisan migrate
- title zostało dodane do tabeli posts jako ostatnia pozycja.


e)
ale czy tego nie dało zrobić się lepiej ?
php artisan migrate:rollback
Rolled back:  2020_04_18_094758_add_title_to_posts_table (0.02 seconds)
- wywaliliśmy wiec z powrotem  pole title z tabeli posts.

f)
- kasujemy więc migracje która tylko dodawała tytuł do tabeli post.
- następnie do migracji która tworzyła tabele post, dodaje brakujący tytuł.

BEFORE:
 public function up()
    {
        Schema::create('posts', function (Blueprint $table) {
            $table->bigIncrements('id');
            $table->string('slug');
            $table->text('body');
            $table->timestamps();
            $table->timestamp('published_ad')->nullable();
        });
    }


AFTER:
    public function up()
    {
        Schema::create('posts', function (Blueprint $table) {
            $table->bigIncrements('id');
            $table->string('slug');
            $table->string('title');
            $table->text('body');
            $table->timestamps();
            $table->timestamp('published_ad')->nullable();
        });
    }


g)
- teraz komenda php artisan migrate, nie zadziała: Nothing to migrate.
solve1: !!(utracimy wszystkie dane z tej tabeli)
    php artisan migrate:roleback
    php artisan migrate


solve2: (utracimy dane we wszystkich tabelach)
 php artisan migrate:fresh


3)
- tworzymy za jednym razem model, migracje i kontroler.
C:\dev\best\back\laravel\laracasts\laravel6>php artisan make:model Project -mc
Model created successfully.
Created Migration: 2020_04_18_102658_create_projects_table
Controller created successfully.









































